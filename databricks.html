<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Databricks Explained</title>
    <!-- Tailwind CSS CDN -->
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Inter', sans-serif;
            background-color: #f0f4f8; /* Light blue-gray background */
            color: #333;
        }
        .section-header {
            background-color: #4f46e5; /* Indigo */
            color: white;
            padding: 1rem 1.5rem;
            border-radius: 0.75rem;
            margin-bottom: 1rem;
            cursor: pointer;
            display: flex;
            justify-content: space-between;
            align-items: center;
            transition: background-color 0.3s ease;
        }
        .section-header:hover {
            background-color: #4338ca; /* Darker indigo on hover */
        }
        .section-content {
            background-color: #f8fafc; /* Lighter background for content */
            padding: 1.5rem;
            border-radius: 0.75rem;
            margin-bottom: 1.5rem;
            border: 1px solid #e2e8f0; /* Light border */
        }
        .accordion-icon {
            transition: transform 0.3s ease;
        }
        .accordion-icon.rotated {
            transform: rotate(90deg);
        }
        .cheatsheet-item {
            margin-bottom: 1rem;
            padding-bottom: 1rem;
            border-bottom: 1px dashed #cbd5e1;
        }
        .cheatsheet-item:last-child {
            border-bottom: none;
            margin-bottom: 0;
            padding-bottom: 0;
        }
        .cheatsheet-item h4 {
            font-weight: 600;
            color: #4f46e5;
            margin-bottom: 0.5rem;
        }
        /* Responsive Table Styles */
        @media (max-width: 767px) {
            .responsive-table thead {
                display: none;
            }
            .responsive-table tbody, .responsive-table tr, .responsive-table td {
                display: block;
                width: 100%;
            }
            .responsive-table tr {
                margin-bottom: 1rem;
                border: 1px solid #e2e8f0;
                border-radius: 0.5rem;
                box-shadow: 0 1px 3px 0 rgba(0, 0, 0, 0.1), 0 1px 2px 0 rgba(0, 0, 0, 0.06);
            }
            .responsive-table td {
                display: flex;
                justify-content: space-between;
                align-items: center;
                text-align: right;
                padding: 0.75rem 1rem;
                border-bottom: 1px solid #e2e8f0;
            }
            .responsive-table td::before {
                content: attr(data-label);
                text-align: left;
                font-weight: 600;
                color: #4f46e5; /* Indigo */
                padding-right: 1rem;
                white-space: nowrap;
            }
            .responsive-table td:last-child {
                border-bottom: none;
            }
        }
    </style>
</head>
<body class="p-4 sm:p-6 md:p-8">
    <header class="bg-white sticky top-0 z-50 shadow-md mb-6">
        <nav class="container mx-auto px-4 sm:px-6 py-4 flex justify-between items-center">
            <div class="text-xl sm:text-2xl font-bold text-gray-800">
                <a href="index.html" class="gradient-text">Data Engineering Concepts</a>
            </div>
            <ul class="flex space-x-4 sm:space-x-6 text-gray-600 font-medium text-sm sm:text-base">
                <li><a href="case_studies.html" class="hover:text-[#bc5090]">Case Studies</a></li>
                <li><a href="aboutme.html" class="hover:text-[#bc5090] font-semibold">About Me</a></li>
            </ul>
        </nav>
    </header>
    <div class="container mx-auto max-w-5xl p-4 sm:p-6">
        <h1 class="text-3xl sm:text-4xl font-bold text-center mb-8 text-indigo-700">Understanding Databricks & Lakehouse Architecture</h1>

        <!-- What is Databricks? -->
        <div class="mb-6">
            <div class="section-header" onclick="toggleSection('what-is-databricks')">
                <h2 class="text-xl sm:text-2xl font-semibold">What is Databricks?</h2>
                <span class="accordion-icon text-2xl font-bold" id="what-is-databricks-icon">+</span>
            </div>
            <div id="what-is-databricks-content" class="section-content hidden">
                <p class="mb-4">Databricks is a cloud-based data and AI company that provides a unified platform for data engineering, machine learning, and data warehousing. Built on top of Apache Spark, it simplifies big data analytics and AI development by offering a collaborative environment with optimized performance.</p>
                <p>It aims to solve the challenges of traditional data architectures by combining the best aspects of data lakes (scalability, flexibility) and data warehouses (structure, performance, governance) into a single system â€“ the Lakehouse.</p>
            </div>
        </div>

        <!-- Lakehouse Architecture -->
        <div class="mb-6">
            <div class="section-header" onclick="toggleSection('lakehouse-architecture')">
                <h2 class="text-2xl font-semibold">The Lakehouse Architecture</h2>
                <span class="accordion-icon text-2xl font-bold" id="lakehouse-architecture-icon">+</span>
            </div>
            <div id="lakehouse-architecture-content" class="section-content hidden">
                <p class="mb-4">The Lakehouse architecture is a new, open data management paradigm that combines the best features of data lakes and data warehouses. It's designed to handle all types of data (structured, semi-structured, unstructured) and support all data workloads (BI, AI, ML) on a single platform.</p>
                <h3 class="text-xl font-semibold mb-2 text-indigo-600">Key Components of Databricks Lakehouse:</h3>
                <ul class="list-disc list-inside mb-4 pl-4">
                    <li class="mb-2"><strong>Delta Lake:</strong> An open-source storage layer that brings ACID transactions, schema enforcement, scalability, and data versioning to data lakes. It's the foundation of the Lakehouse, enabling reliable data pipelines.</li>
                    <li class="mb-2"><strong>Photon:</strong> A vectorized query engine built for the Databricks Lakehouse. It significantly speeds up SQL and data frame operations, especially on large datasets, by leveraging modern CPU architectures.</li>
                    <li class="mb-2"><strong>Unity Catalog:</strong> A unified governance solution for data and AI on the Lakehouse. It provides a central place to manage data access, auditing, and lineage across all data assets (tables, files, ML models).</li>
                </ul>
                <h3 class="text-xl font-semibold mb-2 text-indigo-600">Why Lakehouse?</h3>
                <p class="mb-4">Traditional architectures often lead to data silos (data lakes for raw data, data warehouses for structured BI). The Lakehouse eliminates these silos, offering:</p>
                <ul class="list-disc list-inside pl-4">
                    <li class="mb-1"><strong>Simplicity:</strong> One copy of data for all workloads.</li>
                    <li class="mb-1"><strong>Performance:</strong> Optimized for both SQL analytics and AI/ML.</li>
                    <li class="mb-1"><strong>Reliability:</strong> ACID transactions ensure data integrity.</li>
                    <li class="mb-1"><strong>Openness:</strong> Built on open formats like Parquet and Delta Lake.</li>
                    <li class="mb-1"><strong>Governance:</strong> Centralized security and auditing with Unity Catalog.</li>
                </ul>
                <!-- Simple Diagram Idea (Text-based for now) -->
                <div class="mt-6 p-4 bg-blue-50 border border-blue-200 rounded-lg">
                    <h4 class="font-bold text-blue-800 mb-2">Lakehouse Simplified Flow:</h4>
                    <pre class="bg-gray-100 p-3 rounded text-sm overflow-x-auto">
Raw Data (e.g., CSV, JSON, Logs)
        |
        V
Data Lake (Cloud Storage - S3, ADLS, GCS)
        | (Managed by Delta Lake)
        V
Bronze Layer (Raw, Ingested Data)
        | (ETL/ELT with Spark/Photon)
        V
Silver Layer (Cleaned, Filtered, Transformed Data)
        | (Further Transformation/Aggregation)
        V
Gold Layer (Aggregated, Business-Ready Data for BI/ML)
        |
        V
BI Tools / ML Models / Data Science
                    </pre>
                </div>
            </div>
        </div>

        <!-- Latest Databricks Features -->
        <div class="mb-6">
            <div class="section-header" onclick="toggleSection('databricks-features')">
                <h2 class="text-2xl font-semibold">Key Databricks Features & Offerings</h2>
                <span class="accordion-icon text-2xl font-bold" id="databricks-features-icon">+</span>
            </div>
            <div id="databricks-features-content" class="section-content hidden">
                <ul class="list-disc list-inside pl-4">
                    <li class="mb-2"><strong>Delta Lake:</strong> (As explained above) Ensures data reliability and performance in the data lake.</li>
                    <li class="mb-2"><strong>MLflow:</strong> An open-source platform for managing the end-to-end machine learning lifecycle, including experimentation, reproducibility, deployment, and a central model registry.</li>
                    <li class="mb-2"><strong>Unity Catalog:</strong> (As explained above) Centralized governance for data and AI assets.</li>
                    <li class="mb-2"><strong>Photon Engine:</strong> (As explained above) High-performance query engine for SQL and DataFrame operations.</li>
                    <li class="mb-2"><strong>Databricks SQL:</strong> A serverless data warehousing experience on the Lakehouse, allowing analysts to run SQL queries on large datasets with high performance.</li>
                    <li class="mb-2"><strong>Databricks Machine Learning:</strong> A comprehensive platform for the full ML lifecycle, integrating MLflow, autoML capabilities, and optimized environments for training and inference.</li>
                    <li class="mb-2"><strong>Databricks Workflows:</strong> Orchestration service to build and manage data, analytics, and ML pipelines.</li>
                    <li class="mb-2"><strong>DBSQL Serverless:</strong> Provides instant compute for SQL workloads, reducing operational overhead and improving query performance.</li>
                    <li class="mb-2"><strong>Lakehouse Federation:</strong> Allows querying data in other systems (e.g., PostgreSQL, MySQL, Snowflake) directly from Databricks without ingesting it, using Unity Catalog for governance.</li>
                </ul>
            </div>
        </div>

        <!-- Databricks vs. Dataproc -->
        <div class="mb-6">
            <div class="section-header" onclick="toggleSection('databricks-dataproc')">
                <h2 class="text-2xl font-semibold">Databricks vs. Google Cloud Dataproc</h2>
                <span class="accordion-icon text-2xl font-bold" id="databricks-dataproc-icon">+</span>
            </div>
            <div id="databricks-dataproc-content" class="section-content hidden">
                <p class="mb-4">While both Databricks and Google Cloud Dataproc provide managed Apache Spark services, they cater to slightly different needs and offer distinct advantages.</p>
                <div class="overflow-x-auto">
                    <table class="w-full responsive-table">
                        <thead>
                            <tr>
                                <th class="p-3 text-left font-semibold text-sm text-indigo-800 bg-indigo-100">Feature</th>
                                <th class="p-3 text-left font-semibold text-sm text-indigo-800 bg-indigo-100">Databricks</th>
                                <th class="p-3 text-left font-semibold text-sm text-indigo-800 bg-indigo-100">Google Cloud Dataproc</th>
                            </tr>
                        </thead>
                        <tbody class="text-sm">
                            <tr>
                                <td data-label="Feature" class="font-semibold">Core Offering</td>
                                <td data-label="Databricks">Unified Data & AI Platform (Lakehouse)</td>
                                <td data-label="Google Cloud Dataproc">Managed Apache Spark, Hadoop, Flink, Presto on GCP</td>
                            </tr>
                            <tr>
                                <td data-label="Feature" class="font-semibold">Architecture Focus</td>
                                <td data-label="Databricks">Lakehouse (Delta Lake, Unity Catalog, Photon)</td>
                                <td data-label="Google Cloud Dataproc">Traditional Data Lake (GCS) with Spark/Hadoop clusters</td>
                            </tr>
                            <tr>
                                <td data-label="Feature" class="font-semibold">Managed Service Level</td>
                                <td data-label="Databricks">Higher level of abstraction, fully managed platform including compute, storage layer (Delta Lake), governance (Unity Catalog), and ML lifecycle (MLflow).</td>
                                <td data-label="Google Cloud Dataproc">Managed clusters for open-source frameworks. More control over underlying infrastructure.</td>
                            </tr>
                            <tr>
                                <td data-label="Feature" class="font-semibold">Performance Optimization</td>
                                <td data-label="Databricks">Photon engine, Delta Lake optimizations for ACID transactions and indexing.</td>
                                <td data-label="Google Cloud Dataproc">Standard Spark optimizations, relies on underlying GCP infrastructure.</td>
                            </tr>
                            <tr>
                                <td data-label="Feature" class="font-semibold">Data Governance</td>
                                <td data-label="Databricks">Unity Catalog for centralized, fine-grained access control across all data assets.</td>
                                <td data-label="Google Cloud Dataproc">Relies on GCP IAM and other GCP services for governance.</td>
                            </tr>
                            <tr>
                                <td data-label="Feature" class="font-semibold">Machine Learning</td>
                                <td data-label="Databricks">Integrated MLflow for full ML lifecycle management, Databricks ML Runtime.</td>
                                <td data-label="Google Cloud Dataproc">Integrates with Vertex AI and other GCP ML services, but MLflow needs to be set up.</td>
                            </tr>
                            <tr>
                                <td data-label="Feature" class="font-semibold">Data Warehousing</td>
                                <td data-label="Databricks">Databricks SQL for high-performance SQL analytics on the Lakehouse.</td>
                                <td data-label="Google Cloud Dataproc">Can run SQL on Spark, but not a dedicated data warehousing experience like DBSQL.</td>
                            </tr>
                            <tr>
                                <td data-label="Feature" class="font-semibold">Cost Model</td>
                                <td data-label="Databricks">DBUs (Databricks Units) based on compute usage, plus cloud infrastructure costs. Often higher for basic Spark, but can be more cost-effective for end-to-end solutions.</td>
                                <td data-label="Google Cloud Dataproc">Per-second billing for compute resources (VMs, storage), generally more granular control over costs.</td>
                            </tr>
                            <tr>
                                <td data-label="Feature" class="font-semibold">Open Source Focus</td>
                                <td data-label="Databricks">Strong commitment to open source (Spark, Delta Lake, MLflow).</td>
                                <td data-label="Google Cloud Dataproc">Provides managed open-source frameworks (Spark, Hadoop, etc.).</td>
                            </tr>
                            <tr>
                                <td data-label="Feature" class="font-semibold">Use Cases</td>
                                <td data-label="Databricks">Unified data & AI platforms, complex ML pipelines, real-time analytics, data warehousing on cloud data lakes.</td>
                                <td data-label="Google Cloud Dataproc">Lift-and-shift Hadoop/Spark workloads, custom big data processing, integrating with other GCP services.</td>
                            </tr>
                        </tbody>
                    </table>
                </div>
                <p class="mt-4 text-sm text-gray-700"><strong>In summary:</strong> Databricks offers a more opinionated, fully integrated, and optimized platform for the Lakehouse paradigm, ideal for organizations seeking a unified data and AI strategy. Dataproc provides a flexible, managed service for open-source big data frameworks on GCP, offering more control over the underlying infrastructure and better for those already heavily invested in the GCP ecosystem or needing specific Hadoop ecosystem components.</p>
            </div>
        </div>

        <!-- Interview Cheatsheet -->
        <div class="mb-6">
            <div class="section-header" onclick="toggleSection('interview-cheatsheet')">
                <h2 class="text-2xl font-semibold">Interview Cheatsheet: Key Concepts</h2>
                <span class="accordion-icon text-2xl font-bold" id="interview-cheatsheet-icon">+</span>
            </div>
            <div id="interview-cheatsheet-content" class="section-content hidden">
                <div class="cheatsheet-item">
                    <h4>Apache Spark</h4>
                    <p>An open-source, distributed processing system used for big data workloads. It provides in-memory processing for faster analytics and supports various languages (Scala, Python, Java, R).</p>
                </div>
                <div class="cheatsheet-item">
                    <h4>Data Lake</h4>
                    <p>A centralized repository that allows you to store all your structured and unstructured data at any scale. It stores data in its native format and is ideal for big data analytics, machine learning, and real-time processing.</p>
                </div>
                <div class="cheatsheet-item">
                    <h4>Data Warehouse</h4>
                    <p>A system used for reporting and data analysis, and is a core component of business intelligence. Data warehouses store historical data from various sources in a structured, schema-on-write format, optimized for fast querying and reporting.</p>
                </div>
                <div class="cheatsheet-item">
                    <h4>Data Lakehouse</h4>
                    <p>Combines the best features of data lakes (flexibility, raw data storage, cost-effectiveness) and data warehouses (structure, ACID transactions, performance, governance) into a single, unified platform.</p>
                </div>
                <div class="cheatsheet-item">
                    <h4>Delta Lake</h4>
                    <p>An open-source storage layer that brings ACID transactions, scalable metadata handling, and unified streaming and batch data processing to data lakes. It enables building a Lakehouse architecture.</p>
                </div>
                <div class="cheatsheet-item">
                    <h4>ACID Properties (in Delta Lake context)</h4>
                    <ul class="list-disc list-inside pl-4">
                        <li><strong>Atomicity:</strong> All operations within a transaction succeed or all fail.</li>
                        <li><strong>Consistency:</strong> Data remains valid according to defined rules after a transaction.</li>
                        <li><strong>Isolation:</strong> Concurrent transactions execute independently without interfering with each other.</li>
                        <li><strong>Durability:</strong> Once a transaction is committed, the changes are permanent.</li>
                    </ul>
                </div>
                <div class="cheatsheet-item">
                    <h4>ETL vs. ELT</h4>
                    <ul class="list-disc list-inside pl-4">
                        <li><strong>ETL (Extract, Transform, Load):</strong> Data is extracted from sources, transformed (cleaned, aggregated) in a staging area, and then loaded into a data warehouse. Traditional approach.</li>
                        <li><strong>ELT (Extract, Load, Transform):</strong> Data is extracted from sources, loaded directly into the target system (like a data lake), and then transformed within that system. Favored in cloud environments and with data lakes due to scalable storage and compute.</li>
                    </ul>
                </div>
                <div class="cheatsheet-item">
                    <h4>Medallion Architecture (Bronze, Silver, Gold)</h4>
                    <p>A data design pattern used in Lakehouse environments to incrementally improve the structure and quality of data as it flows through the system:</p>
                    <ul class="list-disc list-inside pl-4">
                        <li><strong>Bronze Layer (Raw):</strong> Contains raw, untransformed data, ingested directly from source systems.</li>
                        <li><strong>Silver Layer (Cleaned/Refined):</strong> Data from the Bronze layer is cleaned, filtered, and enriched. It's typically normalized and ready for feature engineering.</li>
                        <li><strong>Gold Layer (Curated/Aggregated):</strong> Highly refined, aggregated, and business-ready data, optimized for specific use cases like BI dashboards, reporting, or machine learning models.</li>
                    </ul>
                </div>
                <div class="cheatsheet-item">
                    <h4>Data Governance</h4>
                    <p>The overall management of the availability, usability, integrity, and security of data used in an enterprise. It includes policies, processes, and technologies (like Unity Catalog) to ensure data quality and compliance.</p>
                </div>
                <div class="cheatsheet-item">
                    <h4>Data Lineage</h4>
                    <p>A data's lifecycle, including its origin, where it moves over time, and what transformations it undergoes. It's crucial for auditing, debugging, and understanding data quality.</p>
                </div>
            </div>
        </div>
    </div>

    <script>
        // JavaScript for accordion functionality
        function toggleSection(id) {
            const content = document.getElementById(id + '-content');
            const icon = document.getElementById(id + '-icon');
            if (content.classList.contains('hidden')) {
                content.classList.remove('hidden');
                icon.classList.add('rotated');
                icon.textContent = '-';
            } else {
                content.classList.add('hidden');
                icon.classList.remove('rotated');
                icon.textContent = '+';
            }
        }
    </script>
</body>
</html>
